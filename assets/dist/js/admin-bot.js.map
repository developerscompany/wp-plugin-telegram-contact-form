{"version":3,"file":"/js/admin-bot.js","mappings":"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","sources":["webpack://Gloria/./assets/src/js/admin-bot.js"],"sourcesContent":["jQuery(document).ready(function($) {\n    const buttonNext = $(\"#second_step_button\");\n\n    if($(\"#tm_bot_token\").val().length < 25){\n        $('.aply-tocken-button').prop(\"disabled\", true);\n    } else {\n        $('.aply-tocken-button').prop(\"disabled\", false);\n    }\n\n    $(\"#tm_bot_token\").on('keyup', function (){\n        const messageField = $('.message-field');\n        const inputField = $('#tm_bot_token');\n       if($(\"#tm_bot_token\").val().length < 25){\n           messageField.text('Please, enter a valid token');\n           messageField.removeClass('apply-field');\n           messageField.addClass('error-field');\n           inputField.addClass('input-error');\n           buttonNext.addClass('isDisabled');\n           $('.aply-tocken-button').prop(\"disabled\", true);\n       } else {\n           messageField.text('');\n           messageField.removeClass('error-field');\n           inputField.removeClass('input-error');\n           $('.aply-tocken-button').prop(\"disabled\", false);\n       }\n    });\n\n    $(\".aply-tocken-button\").on('click', function (){\n        jQuery.ajax({\n            url: '/wp-admin/admin-ajax.php',\n            type: 'POST',\n            data: {\n                action: 'token_apply',\n                contentType: \"application/json; charset=utf-8\",\n                token_id: $(\"#tm_bot_token\").val(),\n            },\n            success: function (data) {\n                const messageField = $('.message-field');\n                let json = JSON.parse(data);\n                // console.log(json['chats_list']);\n                if(json['request'] === 'token_successfull'){\n                    messageField.text('Token successfully saved');\n                    messageField.addClass('apply-field');\n                    // console.log(json['request_chat_list']);\n                    if(json['request_chat_list'] === 'true'){\n                        $('.chats-list').html(json['chats_list']);\n                        buttonNext.addClass('isDisabled');\n                    } else {\n                        $('.chats-list').html('');\n                        buttonNext.removeClass('isDisabled');\n                    }\n                } else {\n                    messageField.text('Token error');\n                    messageField.removeClass('apply-field');\n                    messageField.addClass('error-field');\n                    buttonNext.addClass('isDisabled');\n                    $('.chats-list').html('');\n                }\n            },\n            error : function(error){ console.log(error) }\n        });\n    });\n\n    $(\"body\").on(\"change\", \"input[name='single_chat_id']\", function() {\n        // console.log($('input[name=\"single_chat_id\"]:checked').attr('id'));\n        $(\"#second_step_button\").removeClass('isDisabled');\n    });\n\n    if($('input[name=\"single_chat_id\"]:checked').length === 0){\n        $(\"#second_step_button\").addClass('isDisabled');\n    }\n\n    $(\"body\").on(\"click\", \"#second_step_button\", function(e) {\n        if($(this).hasClass('isDisabled')){\n            e.preventDefault();\n        } else {\n            const chatId = $('input[name=\"single_chat_id\"]:checked').attr('id');\n            const tokenId = $(\"#tm_bot_token\").val();\n\n            jQuery.ajax({\n                url: '/wp-admin/admin-ajax.php',\n                type: 'POST',\n                data: {\n                    action: 'second_step_save',\n                    contentType: \"application/json; charset=utf-8\",\n                    chat_id: chatId,\n                    token_id: tokenId,\n                },\n                success: function (data) {\n                    const messageField = $('.message-field');\n                    const buttonNext = $(\".second-step-button\");\n                    let json = JSON.parse(data);\n\n                },\n                error : function(error){ console.log(error) }\n            });\n        }\n    })\n\n});"],"names":["jQuery","document","ready","$","buttonNext","val","length","prop","on","messageField","inputField","text","removeClass","addClass","ajax","url","type","data","action","contentType","token_id","success","json","JSON","parse","html","error","console","log","e","hasClass","preventDefault","chatId","attr","tokenId","chat_id"],"sourceRoot":""}
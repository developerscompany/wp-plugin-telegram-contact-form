{"version":3,"file":"/js/admin-bot.js","mappings":";;;;;AAAAA,MAAM,CAACC,QAAQ,CAAC,CAACC,KAAK,CAAC,UAASC,CAAC,EAAE;EAC/B,IAAMC,UAAU,GAAGD,CAAC,CAAC,qBAAqB,CAAC;EAE3C,IAAGA,CAAC,CAAC,eAAe,CAAC,CAACE,GAAG,CAAC,CAAC,CAACC,MAAM,GAAG,EAAE,EAAC;IACpCH,CAAC,CAAC,qBAAqB,CAAC,CAACI,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC;EACnD,CAAC,MAAM;IACHJ,CAAC,CAAC,qBAAqB,CAAC,CAACI,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC;EACpD;EAEAJ,CAAC,CAAC,eAAe,CAAC,CAACK,EAAE,CAAC,OAAO,EAAE,YAAW;IACtC,IAAMC,YAAY,GAAGN,CAAC,CAAC,gBAAgB,CAAC;IACxC,IAAMO,UAAU,GAAGP,CAAC,CAAC,eAAe,CAAC;IACtC,IAAGA,CAAC,CAAC,eAAe,CAAC,CAACE,GAAG,CAAC,CAAC,CAACC,MAAM,GAAG,EAAE,EAAC;MACpCG,YAAY,CAACE,IAAI,CAAC,6BAA6B,CAAC;MAChDF,YAAY,CAACG,WAAW,CAAC,aAAa,CAAC;MACvCH,YAAY,CAACI,QAAQ,CAAC,aAAa,CAAC;MACpCH,UAAU,CAACG,QAAQ,CAAC,aAAa,CAAC;MAClCT,UAAU,CAACS,QAAQ,CAAC,YAAY,CAAC;MACjCV,CAAC,CAAC,qBAAqB,CAAC,CAACI,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC;IACnD,CAAC,MAAM;MACHE,YAAY,CAACE,IAAI,CAAC,EAAE,CAAC;MACrBF,YAAY,CAACG,WAAW,CAAC,aAAa,CAAC;MACvCF,UAAU,CAACE,WAAW,CAAC,aAAa,CAAC;MACrCT,CAAC,CAAC,qBAAqB,CAAC,CAACI,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC;IACpD;EACH,CAAC,CAAC;EAEFJ,CAAC,CAAC,qBAAqB,CAAC,CAACK,EAAE,CAAC,OAAO,EAAE,YAAW;IAC5CR,MAAM,CAACc,IAAI,CAAC;MACRC,GAAG,EAAE,0BAA0B;MAC/BC,IAAI,EAAE,MAAM;MACZC,IAAI,EAAE;QACFC,MAAM,EAAE,aAAa;QACrBC,WAAW,EAAE,iCAAiC;QAC9CC,QAAQ,EAAEjB,CAAC,CAAC,eAAe,CAAC,CAACE,GAAG,CAAC;MACrC,CAAC;MACDgB,OAAO,EAAE,SAAAA,QAAUJ,IAAI,EAAE;QACrB,IAAMR,YAAY,GAAGN,CAAC,CAAC,gBAAgB,CAAC;QACxC,IAAImB,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACP,IAAI,CAAC;QAC3B;QACA,IAAGK,IAAI,CAAC,SAAS,CAAC,KAAK,mBAAmB,EAAC;UACvCb,YAAY,CAACE,IAAI,CAAC,0BAA0B,CAAC;UAC7CF,YAAY,CAACI,QAAQ,CAAC,aAAa,CAAC;UACpC;UACA,IAAGS,IAAI,CAAC,mBAAmB,CAAC,KAAK,MAAM,EAAC;YACpCnB,CAAC,CAAC,aAAa,CAAC,CAACsB,IAAI,CAACH,IAAI,CAAC,YAAY,CAAC,CAAC;YACzClB,UAAU,CAACS,QAAQ,CAAC,YAAY,CAAC;UACrC,CAAC,MAAM;YACHV,CAAC,CAAC,aAAa,CAAC,CAACsB,IAAI,CAAC,EAAE,CAAC;YACzBrB,UAAU,CAACQ,WAAW,CAAC,YAAY,CAAC;UACxC;QACJ,CAAC,MAAM;UACHH,YAAY,CAACE,IAAI,CAAC,aAAa,CAAC;UAChCF,YAAY,CAACG,WAAW,CAAC,aAAa,CAAC;UACvCH,YAAY,CAACI,QAAQ,CAAC,aAAa,CAAC;UACpCT,UAAU,CAACS,QAAQ,CAAC,YAAY,CAAC;UACjCV,CAAC,CAAC,aAAa,CAAC,CAACsB,IAAI,CAAC,EAAE,CAAC;QAC7B;MACJ,CAAC;MACDC,KAAK,EAAG,SAAAA,MAASA,MAAK,EAAC;QAAEC,OAAO,CAACC,GAAG,CAACF,MAAK,CAAC;MAAC;IAChD,CAAC,CAAC;EACN,CAAC,CAAC;EAEFvB,CAAC,CAAC,MAAM,CAAC,CAACK,EAAE,CAAC,QAAQ,EAAE,4BAA4B,EAAE,YAAW;IAC5D;IACAL,CAAC,CAAC,qBAAqB,CAAC,CAACS,WAAW,CAAC,YAAY,CAAC;EACtD,CAAC,CAAC;EAEF,IAAGT,CAAC,CAAC,oCAAoC,CAAC,CAACG,MAAM,KAAK,CAAC,EAAC;IACpDH,CAAC,CAAC,qBAAqB,CAAC,CAACU,QAAQ,CAAC,YAAY,CAAC;EACnD;EAEAV,CAAC,CAAC,MAAM,CAAC,CAACK,EAAE,CAAC,OAAO,EAAE,qBAAqB,EAAE,UAASqB,CAAC,EAAE;IACrD,IAAG1B,CAAC,CAAC,IAAI,CAAC,CAAC2B,QAAQ,CAAC,YAAY,CAAC,EAAC;MAC9BD,CAAC,CAACE,cAAc,CAAC,CAAC;IACtB,CAAC,MAAM;MACH,IAAMC,MAAM,GAAG7B,CAAC,CAAC,oCAAoC,CAAC,CAAC8B,IAAI,CAAC,IAAI,CAAC;MACjE,IAAMC,OAAO,GAAG/B,CAAC,CAAC,eAAe,CAAC,CAACE,GAAG,CAAC,CAAC;MAExCL,MAAM,CAACc,IAAI,CAAC;QACRC,GAAG,EAAE,0BAA0B;QAC/BC,IAAI,EAAE,MAAM;QACZC,IAAI,EAAE;UACFC,MAAM,EAAE,kBAAkB;UAC1BC,WAAW,EAAE,iCAAiC;UAC9CgB,OAAO,EAAEH,MAAM;UACfZ,QAAQ,EAAEc;QACd,CAAC;QACDb,OAAO,EAAE,SAAAA,QAAUJ,IAAI,EAAE;UACrB,IAAMR,YAAY,GAAGN,CAAC,CAAC,gBAAgB,CAAC;UACxC,IAAMC,UAAU,GAAGD,CAAC,CAAC,qBAAqB,CAAC;UAC3C,IAAImB,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACP,IAAI,CAAC;QAE/B,CAAC;QACDS,KAAK,EAAG,SAAAA,MAASA,OAAK,EAAC;UAAEC,OAAO,CAACC,GAAG,CAACF,OAAK,CAAC;QAAC;MAChD,CAAC,CAAC;IACN;EACJ,CAAC,CAAC;AAEN,CAAC,CAAC,C","sources":["webpack://Gloria/./assets/src/js/admin-bot.js"],"sourcesContent":["jQuery(document).ready(function($) {\r\n    const buttonNext = $(\"#second_step_button\");\r\n\r\n    if($(\"#tm_bot_token\").val().length < 25){\r\n        $('.aply-tocken-button').prop(\"disabled\", true);\r\n    } else {\r\n        $('.aply-tocken-button').prop(\"disabled\", false);\r\n    }\r\n\r\n    $(\"#tm_bot_token\").on('keyup', function (){\r\n        const messageField = $('.message-field');\r\n        const inputField = $('#tm_bot_token');\r\n       if($(\"#tm_bot_token\").val().length < 25){\r\n           messageField.text('Please, enter a valid token');\r\n           messageField.removeClass('apply-field');\r\n           messageField.addClass('error-field');\r\n           inputField.addClass('input-error');\r\n           buttonNext.addClass('isDisabled');\r\n           $('.aply-tocken-button').prop(\"disabled\", true);\r\n       } else {\r\n           messageField.text('');\r\n           messageField.removeClass('error-field');\r\n           inputField.removeClass('input-error');\r\n           $('.aply-tocken-button').prop(\"disabled\", false);\r\n       }\r\n    });\r\n\r\n    $(\".aply-tocken-button\").on('click', function (){\r\n        jQuery.ajax({\r\n            url: '/wp-admin/admin-ajax.php',\r\n            type: 'POST',\r\n            data: {\r\n                action: 'token_apply',\r\n                contentType: \"application/json; charset=utf-8\",\r\n                token_id: $(\"#tm_bot_token\").val(),\r\n            },\r\n            success: function (data) {\r\n                const messageField = $('.message-field');\r\n                let json = JSON.parse(data);\r\n                // console.log(json['chats_list']);\r\n                if(json['request'] === 'token_successfull'){\r\n                    messageField.text('Token successfully saved');\r\n                    messageField.addClass('apply-field');\r\n                    // console.log(json['request_chat_list']);\r\n                    if(json['request_chat_list'] === 'true'){\r\n                        $('.chats-list').html(json['chats_list']);\r\n                        buttonNext.addClass('isDisabled');\r\n                    } else {\r\n                        $('.chats-list').html('');\r\n                        buttonNext.removeClass('isDisabled');\r\n                    }\r\n                } else {\r\n                    messageField.text('Token error');\r\n                    messageField.removeClass('apply-field');\r\n                    messageField.addClass('error-field');\r\n                    buttonNext.addClass('isDisabled');\r\n                    $('.chats-list').html('');\r\n                }\r\n            },\r\n            error : function(error){ console.log(error) }\r\n        });\r\n    });\r\n\r\n    $(\"body\").on(\"change\", \"input[name='fav_language']\", function() {\r\n        // console.log($('input[name=\"fav_language\"]:checked').attr('id'));\r\n        $(\"#second_step_button\").removeClass('isDisabled');\r\n    });\r\n\r\n    if($('input[name=\"fav_language\"]:checked').length === 0){\r\n        $(\"#second_step_button\").addClass('isDisabled');\r\n    }\r\n\r\n    $(\"body\").on(\"click\", \"#second_step_button\", function(e) {\r\n        if($(this).hasClass('isDisabled')){\r\n            e.preventDefault();\r\n        } else {\r\n            const chatId = $('input[name=\"fav_language\"]:checked').attr('id');\r\n            const tokenId = $(\"#tm_bot_token\").val();\r\n\r\n            jQuery.ajax({\r\n                url: '/wp-admin/admin-ajax.php',\r\n                type: 'POST',\r\n                data: {\r\n                    action: 'second_step_save',\r\n                    contentType: \"application/json; charset=utf-8\",\r\n                    chat_id: chatId,\r\n                    token_id: tokenId,\r\n                },\r\n                success: function (data) {\r\n                    const messageField = $('.message-field');\r\n                    const buttonNext = $(\".second-step-button\");\r\n                    let json = JSON.parse(data);\r\n\r\n                },\r\n                error : function(error){ console.log(error) }\r\n            });\r\n        }\r\n    })\r\n\r\n});"],"names":["jQuery","document","ready","$","buttonNext","val","length","prop","on","messageField","inputField","text","removeClass","addClass","ajax","url","type","data","action","contentType","token_id","success","json","JSON","parse","html","error","console","log","e","hasClass","preventDefault","chatId","attr","tokenId","chat_id"],"sourceRoot":""}